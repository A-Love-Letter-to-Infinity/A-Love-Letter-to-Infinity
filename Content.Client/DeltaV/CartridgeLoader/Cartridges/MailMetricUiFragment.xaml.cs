using Content.Shared.CartridgeLoader.Cartridges;
using Robust.Client.AutoGenerated;
using Robust.Client.UserInterface.Controls;
using Robust.Client.UserInterface.XAML;

namespace Content.Client.DeltaV.CartridgeLoader.Cartridges;

[GenerateTypedNameReferences]
public sealed partial class MailMetricUiFragment : BoxContainer
{
    public MailMetricUiFragment()
    {
        RobustXamlLoader.Load(this);
    }

    public void UpdateState(MailMetricUiState state)
    {
        OpenedMail.Text = $"Opened mail: {state.OpenedMailCount} (${state.MailEarnings})";
        TamperedMail.Text = $"Tampered mail: {state.TamperedMailCount} ($-{state.TamperedMailLosses})";
        ExpiredMail.Text = $"Expired mail: {state.ExpiredMailCount} ($-{state.ExpiredMailLosses})";
        DamagedMail.Text = $"Damaged mail: {state.DamagedMailCount} ($-{state.DamagedMailLosses})";
        TotalMail.Text = $"Total mail opened: {state.OpenedMailCount} out of {state.TotalMail} ({state.SuccessRate}% success)";
        TotalEarnings.Text = $"Total earnings: {state.TotalIncome}";
    }
}
